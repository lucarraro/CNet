<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate velocities along paths in a river — path_velocities_river • rivnet</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate velocities along paths in a river — path_velocities_river"><meta name="description" content="Calculate mean water velocities along paths in a river object."><meta property="og:description" content="Calculate mean water velocities along paths in a river object."><meta property="og:image" content="https://lucarraro.github.io/rivnet/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rivnet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rivnet.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lucarraro/rivnet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate velocities along paths in a river</h1>

      <div class="d-none name"><code>path_velocities_river.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate mean water velocities along paths in a <code>river</code> object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">path_velocities_river</span><span class="op">(</span><span class="va">river</span>, level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RN"</span>, <span class="st">"AG"</span><span class="op">)</span>, </span>
<span>  displayUpdates <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-river">river<a class="anchor" aria-label="anchor" href="#arg-river"></a></dt>
<dd><p>A <code>river</code> object. It must have been aggregated (via <code>aggregate_river</code>), and contain paths (via <code>paths_river</code> with <code>includeDownstreamNode = TRUE</code>)
and velocities (via <code>hydro_river</code> or <code>rivergeometry_OCN</code>) at the desired aggregation level(s). See <code>level</code>.</p></dd>

<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Aggregation level(s) at which path velocities should be calculated. Possible values are <code>"RN"</code>, <code>"AG"</code>, <code>c("RN","AG")</code>.</p></dd>

<dt id="arg-displayupdates">displayUpdates<a class="anchor" aria-label="anchor" href="#arg-displayupdates"></a></dt>
<dd><p>Logical. State if updates are printed on the console while <code>path_velocities_river</code> runs.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>river</code> object. The following element is added to the list indicated by <code>level</code>:</p>
<dl><dt>pathVelocities</dt>
<dd><p>It is a <code>spam</code> object. <code>pathVelocities[i, j]</code> is the mean water velocity along the downstream path from nodes <code>i</code> to <code>j</code>, and is null if the two nodes are not connected by such a path.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Velocities are calculated by dividing the total distance (length of the downstream path joining two nodes) by the total time (sum of times taken to cover all nodes in between the origin and destination nodes; such times are calculated as length/velocity).</p>
<p>Note that paths may or may not include the downstream node; this is controlled by option <code>includeDownstreamNode</code> in <code>paths_river</code>. Path velocities are calculated accordingly.
In both cases, diagonal entries of <code>pathVelocity</code> are set equal to the respective node velocity. See example.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="paths_river.html">paths_river</a></code>, <code><a href="hydro_river.html">hydro_river</a></code>, <code><a href="https://lucarraro.github.io/OCNet/reference/rivergeometry_OCN.html" class="external-link">OCNet::rivergeometry_OCN</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive() &amp;&amp; traudem::can_register_taudem()</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="va">fp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/wigger.tif"</span>, package<span class="op">=</span><span class="st">"rivnet"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">river</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_river.html">extract_river</a></span><span class="op">(</span>outlet<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">637478</span>,<span class="fl">237413</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       DEM<span class="op">=</span><span class="va">fp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">river</span> <span class="op">&lt;-</span> <span class="fu"><a href="aggregate_river.html">aggregate_river</a></span><span class="op">(</span><span class="va">river</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">river</span> <span class="op">&lt;-</span> <span class="fu"><a href="paths_river.html">paths_river</a></span><span class="op">(</span><span class="va">river</span>, includePaths <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">river</span> <span class="op">&lt;-</span> <span class="fu">OCNet</span><span class="fu">::</span><span class="fu"><a href="https://lucarraro.github.io/OCNet/reference/rivergeometry_OCN.html" class="external-link">rivergeometry_OCN</a></span><span class="op">(</span><span class="va">river</span><span class="op">)</span> <span class="co"># simplified alternative to hydro_river</span></span></span>
<span class="r-in"><span>                                  <span class="co"># to attribute velocities at all RN and AG nodes</span></span></span>
<span class="r-in"><span>                  </span></span>
<span class="r-in"><span><span class="va">river</span> <span class="op">&lt;-</span> <span class="fu">path_velocities_river</span><span class="op">(</span><span class="va">river</span>, level <span class="op">=</span> <span class="st">"AG"</span><span class="op">)</span> <span class="co"># downstream nodes are not included in paths</span></span></span>
<span class="r-in"><span><span class="va">river</span><span class="op">$</span><span class="va">AG</span><span class="op">$</span><span class="va">pathVelocities</span><span class="op">[</span><span class="fl">176</span>, <span class="fl">176</span><span class="op">]</span> </span></span>
<span class="r-in"><span><span class="va">river</span><span class="op">$</span><span class="va">AG</span><span class="op">$</span><span class="va">pathVelocities</span><span class="op">[</span><span class="fl">176</span>, <span class="fl">174</span><span class="op">]</span></span></span>
<span class="r-in"><span> <span class="co"># node 174 is immediately downstream of 176; if downstream nodes are not included </span></span></span>
<span class="r-in"><span> <span class="co"># in paths, the two velocities are equal</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">river2</span> <span class="op">&lt;-</span> <span class="fu"><a href="paths_river.html">paths_river</a></span><span class="op">(</span><span class="va">river</span>, includePaths <span class="op">=</span> <span class="cn">TRUE</span>, includeDownstreamNode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">river2</span> <span class="op">&lt;-</span> <span class="fu">path_velocities_river</span><span class="op">(</span><span class="va">river2</span>, level <span class="op">=</span> <span class="st">"AG"</span><span class="op">)</span> <span class="co"># now downstream nodes are included in paths</span></span></span>
<span class="r-in"><span><span class="va">river2</span><span class="op">$</span><span class="va">AG</span><span class="op">$</span><span class="va">pathVelocities</span><span class="op">[</span><span class="fl">176</span>, <span class="fl">176</span><span class="op">]</span> </span></span>
<span class="r-in"><span><span class="va">river2</span><span class="op">$</span><span class="va">AG</span><span class="op">$</span><span class="va">pathVelocities</span><span class="op">[</span><span class="fl">176</span>, <span class="fl">174</span><span class="op">]</span></span></span>
<span class="r-in"><span> <span class="co"># }</span></span></span>
<span class="r-in"><span> <span class="op">}</span>  </span></span>
<span class="r-in"><span> </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luca Carraro, University of Zurich.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

